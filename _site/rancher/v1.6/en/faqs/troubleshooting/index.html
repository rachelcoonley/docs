<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Troubleshooting FAQs about Rancher</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Documentation for Rancher">
    <link href="/docs/favicon.png" rel="shortcut icon" type="image/png" sizes="16x16">
    <link href="/docs/css/syntax.css?t=2017-09-13 18:12:52 -0700" rel="stylesheet">
    <link href="/docs/vendor/font-awesome/css/font-awesome.min.css?t=2017-09-13 18:12:52 -0700" rel="stylesheet">
    <link href="/docs/vendor/lato/lato.css?t=2017-09-13 18:12:52 -0700" rel="stylesheet">
    <link href="/docs/css/lacsso.css?t=2017-09-13 18:12:52 -0700" rel="stylesheet">
    <link href="/docs/css/slicknav.css?t=2017-09-13 18:12:52 -0700" rel="stylesheet">
    <link href="/docs/css/rancher-docs.css?t=2017-09-13 18:12:52 -0700" rel="stylesheet">
  </head>
  <body class="bg-default">
    <div class="row body">
      <header id="header" class="section">
        <nav class="row" role="navigation">
          <div class="col span-3">
          <a class="navbar-brand" href="/"><img src="/docs/img/rancher-logo-nopadding.svg" width="200px" style="padding-left: 20px" /></a>
          </div>

          <div class="col span-5 offset-3">
            <!--Start Google Search-->
            <div class="gcse-search" id="google-search"></div>
            <script>
              var match = window.location.pathname.match(/\/rancher\/([^\/]+)/);
              if ( match ) {
                document.getElementById('google-search').setAttribute('data-defaultToRefinement', match[1]);
              }

              (function() {
                var cx = '007896692384436596364:60akf3bfmxm';
                var gcse = document.createElement('script');
                gcse.type = 'text/javascript';
                gcse.async = true;
                gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
                var s = document.getElementsByTagName('script')[0];
                s.parentNode.insertBefore(gcse, s);
              })();
            </script>
            <!--End Google Search-->
          </div>
        </nav>
      </header>
      <div class="col span-3 mt-0 mr-0 sidebar">

<ul id="menu">
    <li><a href="/docs/rancher/v1.6/en/">Overview</a></li>
    <li><a href="/docs/rancher/v1.6/en/quick-start-guide/">Quick Start Guide</a></li>
    <li>
        <a href="#">Installing Rancher<i class="pull-right fa fa-angle-down"></i></a>
        <ul>
          <li><a href="/docs/rancher/v1.6/en/installing-rancher/installing-server/">Rancher Server</a></li>
          <li><a href="/docs/rancher/v1.6/en/installing-rancher/installing-server/#requirements">Rancher Server Requirements</a></li>
          <li><a href="/docs/rancher/v1.6/en/installing-rancher/installing-server/#rancher-server-tags">Rancher Server Tags</a></li>
          <li><a href="/docs/rancher/v1.6/en/installing-rancher/installing-server/#single-container">Launching Rancher Server</a></li>
          <li><a href="/docs/rancher/v1.6/en/installing-rancher/installing-server/#multi-nodes">Setting up HA</a></li>
          <li><a href="/docs/rancher/v1.6/en/installing-rancher/installing-server/#requirements-for-ha">HA Requirements</a></li>
          <li><a href="/docs/rancher/v1.6/en/installing-rancher/installing-server/#single-container-external-database">Using an External DB</a></li>
          <li><a href="/docs/rancher/v1.6/en/installing-rancher/installing-server/#single-container-bind-mount">Bind Mounted MySQL Volume</a></li>
          <li><a href="/docs/rancher/v1.6/en/installing-rancher/installing-server/#elb">Using an ELB in AWS</a></li>
          <li><a href="/docs/rancher/v1.6/en/installing-rancher/installing-server/#ldap">Using LDAP/AD with TLS</a></li>
          <li><a href="/docs/rancher/v1.6/en/installing-rancher/installing-server/#http-proxy">Behind an HTTP Proxy</a></li>
          <li><a href="/docs/rancher/v1.6/en/installing-rancher/selinux/">SELinux Requirements for RHEL/CentOS</a></li>
          <li>
               <a href="#">Basic SSL Configuration<i class="pull-right fa fa-angle-down"></i></a>
               <ul>
                 <li><a href="/docs/rancher/v1.6/en/installing-rancher/installing-server/basic-ssl-config/#requirements">Requirements</a></li>
                 <li><a href="/docs/rancher/v1.6/en/installing-rancher/installing-server/basic-ssl-config/#example-nginx-configuration">Example NGINX Configuration</a></li>
                 <li><a href="/docs/rancher/v1.6/en/installing-rancher/installing-server/basic-ssl-config/#example-apache-configuration">Example Apache Configuration</a></li>
                 <li><a href="/docs/rancher/v1.6/en/installing-rancher/installing-server/basic-ssl-config/#example-haproxy-configuration">Example HAProxy Configuration</a></li>
                 <li><a href="/docs/rancher/v1.6/en/installing-rancher/installing-server/basic-ssl-config/#example-f5-big-ip-configuration">Example F5 BIG-IP Configuration</a></li>
                 <li><a href="/docs/rancher/v1.6/en/installing-rancher/installing-server/basic-ssl-config/#elb">Using an ELB in AWS with SSL</a></li>
                 <li><a href="/docs/rancher/v1.6/en/installing-rancher/installing-server/basic-ssl-config/#using-self-signed-certs-beta">Using Self Signed Certs</a></li>
               </ul>
          </li>
          <li>
               <a href="#">No Internet Access<i class="pull-right fa fa-angle-down"></i></a>
               <ul>
                 <li><a href="/docs/rancher/v1.6/en/installing-rancher/installing-server/no-internet-access/#using-a-private-registry">Using a Private Registry</a></li>
                 <li><a href="/docs/rancher/v1.6/en/installing-rancher/installing-server/no-internet-access/#using-an-http-proxy">Using an HTTP Proxy</a></li>
               </ul>
          </li>
        </ul>
    </li>
    <li>
         <a href="#">Upgrading Rancher<i class="pull-right fa fa-angle-down"></i></a>
         <ul>
           <li><a href="/docs/rancher/v1.6/en/upgrading/">Upgrading Rancher</a></li>
           <li><a href="/docs/rancher/v1.6/en/upgrading/#rancher-server-tags">Rancher Server Tags</a></li>
           <li><a href="/docs/rancher/v1.6/en/upgrading/#infrastructure-services">Upgrading Infrastructure Services</a></li>
           <li><a href="/docs/rancher/v1.6/en/upgrading/#multi-nodes">Upgrading Rancher HA Setup</a></li>
           <li><a href="/docs/rancher/v1.6/en/upgrading/#single-container-external-database">Using an external DB</a></li>
           <li><a href="/docs/rancher/v1.6/en/upgrading/#single-container-bind-mount">Bind Mounted MySQL Volume</a></li>
           <li><a href="/docs/rancher/v1.6/en/upgrading/#rancher-server-with-no-internet-access">No Internet Access</a></li>
        </ul>
     </li>
    <li>
         <a href="#">Rancher Configuration<i class="pull-right fa fa-angle-down"></i></a>
         <ul>
           <li>
                <a href="#">Access Control Providers<i class="pull-right fa fa-angle-down"></i></a>
                <ul>
                  <li><a href="/docs/rancher/v1.6/en/configuration/access-control/#active-directory">Active Directory</a></li>
                  <li><a href="/docs/rancher/v1.6/en/configuration/access-control/#azure-ad">Azure AD</a></li>
                  <li><a href="/docs/rancher/v1.6/en/configuration/access-control/#github">Github</a></li>
                  <li><a href="/docs/rancher/v1.6/en/configuration/access-control/#local-authentication">Local Authentication</a></li>
                  <li><a href="/docs/rancher/v1.6/en/configuration/access-control/#openldap">OpenLDAP</a></li>
                  <li><a href="/docs/rancher/v1.6/en/configuration/access-control/#shibboleth">Shibboleth/SAML</a></li>
                </ul>
          </li>
          <li><a href="/docs/rancher/v1.6/en/configuration/access-control/#site-access">Rancher Site Access</a></li>
          <li><a href="/docs/rancher/v1.6/en/configuration/access-control/#restricting-concurrent-sessions">Restricting Concurrent Sessions</a></li>
          <li><a href="/docs/rancher/v1.6/en/configuration/accounts/">Accounts</a></li>
          <li><a href="/docs/rancher/v1.6/en/configuration/settings/#host-registration">Host Registration</a></li>
          <li><a href="/docs/rancher/v1.6/en/configuration/settings/#catalog">Enabling Catalogs</a></li>
          <li><a href="/docs/rancher/v1.6/en/configuration/machine-drivers/">Machine Drivers</a></li>
        </ul>
    </li>
    <li>
          <a href="#">Environments<i class="pull-right fa fa-angle-down"></i></a>
          <ul>
            <li><a href="/docs/rancher/v1.6/en/environments/">Managing Environments</a></li>
            <li><a href="/docs/rancher/v1.6/en/environments/#what-is-an-environment-template">Environment Templates</a></li>
            <li><a href="/docs/rancher/v1.6/en/environments/#membership-roles">Roles in an Environment</a></li>
          </ul>
    </li>
    <li>
        <a href="#">Hosts<i class="pull-right fa fa-angle-down"></i></a>
        <ul>
          <li><a href="/docs/rancher/v1.6/en/hosts/">Getting Started with Hosts</a></li>
          <li><a href="/docs/rancher/v1.6/en/hosts/#supported-docker-versions">Supported Docker Versions</a></li>
          <li><a href="/docs/rancher/v1.6/en/hosts/#host-labels">Adding Host Labels</a></li>
          <li><a href="/docs/rancher/v1.6/en/hosts/#scheduler-ips">Adding Scheduler IPs</a></li>
          <li><a href="/docs/rancher/v1.6/en/hosts/#hosts-behind-an-http-proxy">Behind an HTTP Proxy</a></li>
          <li><a href="/docs/rancher/v1.6/en/hosts/custom/">Adding Custom Hosts</a></li>
          <li>
              <a href="#">Adding Cloud Provided Hosts<i class="pull-right fa fa-angle-down"></i></a>
              <ul>
                <li><a href="/docs/rancher/v1.6/en/hosts/amazon/">Adding Amazon EC2 Hosts</a></li>
                <li><a href="/docs/rancher/v1.6/en/hosts/azure/">Adding Azure Hosts</a></li>
                <li><a href="/docs/rancher/v1.6/en/hosts/digitalocean/">Adding DigitalOcean Hosts</a></li>
                <li><a href="/docs/rancher/v1.6/en/hosts/exoscale/">Adding Exoscale Hosts</a></li>
                <li><a href="/docs/rancher/v1.6/en/hosts/packet/">Adding Packet Hosts</a></li>
                <li><a href="/docs/rancher/v1.6/en/hosts/rackspace/">Adding Rackspace Hosts</a></li>
                <li><a href="/docs/rancher/v1.6/en/hosts/other/">Adding Hosts from Other Cloud Providers</a></li>
              </ul>
          </li>
          <li><a href="/docs/rancher/v1.6/en/hosts/#accessing-hosts-from-the-cloud-providers">Accessing Cloud Provided Hosts</a></li>
          <li><a href="/docs/rancher/v1.6/en/hosts/#removing-hosts">Removing Hosts</a></li>
        </ul>
    </li>
    <li>
      <a href="#">Registries<i class="pull-right fa fa-angle-down"></i></a>
      <ul>
        <li><a href="/docs/rancher/v1.6/en/environments/registries/">Adding Private Registries</a></li>
        <li><a href="/docs/rancher/v1.6/en/environments/registries/#insecure-registries">Insecure Registries</a></li>
        <li><a href="/docs/rancher/v1.6/en/environments/registries/#self-signed-certificates">Self Signed Certificates</a></li>
        <li><a href="/docs/rancher/v1.6/en/environments/registries/#using-amazons-ecr-registry">Using Amazon's ECR</a></li>
        <li><a href="/docs/rancher/v1.6/en/environments/registries/#using-google-container-registry">Using Google Container Registry</a></li>
        <li><a href="/docs/rancher/v1.6/en/environments/registries/#changing-the-default-registry">Changing the Default Registry</a></li>
        <li><a href="/docs/rancher/v1.6/en/environments/registries/#limiting-which-registries-can-be-used">Limiting Registries</a></li>
      </ul>
    </li>
    <li><a href="/docs/rancher/v1.6/en/environments/certificates/">Certificates</a></li>
    <li>
      <a href="#">Infrastructure Services<i class="pull-right fa fa-angle-down"></i></a>
          <ul>
              <li><a href="/docs/rancher/v1.6/en/rancher-services/">Infrastructure Services</a></li>
              <li><a href="/docs/rancher/v1.6/en/rancher-services/networking/">Networking</a></li>
              <li><a href="/docs/rancher/v1.6/en/rancher-services/network-policy/">Network Policies</a></li>
              <li><a href="/docs/rancher/v1.6/en/rancher-services/load-balancer">Load Balancer</a></li>
              <li><a href="/docs/rancher/v1.6/en/rancher-services/dns-service/">DNS Service</a></li>
              <li><a href="/docs/rancher/v1.6/en/rancher-services/metadata-service/">Metadata Service</a></li>
              <li>
                  <a href="#">Persistent Storage Service<i class="pull-right fa fa-angle-down"></i></a>
                  <ul>
                      <li><a href="/docs/rancher/v1.6/en/rancher-services/storage-service/">Persistent Storage Service</a></li>
                      <li><a href="/docs/rancher/v1.6/en/rancher-services/storage-service/rancher-nfs/">Rancher NFS</a></li>
                      <li><a href="/docs/rancher/v1.6/en/rancher-services/storage-service/rancher-ebs/">Rancher EBS</a></li>
                  </ul>
              </li>
              <li>
                  <a href="#">External Scheduler<i class="pull-right fa fa-angle-down"></i></a>
                  <ul>
                      <li><a href="/docs/rancher/v1.6/en/rancher-services/scheduler/">External Scheduler</a></li>
                      <li><a href="/docs/rancher/v1.6/en/rancher-services/scheduler/#multiple-ips">Scheduling against multiple IPs</a></li>
                      <li><a href="/docs/rancher/v1.6/en/rancher-services/scheduler/#resource-constraints">Scheduling with Resource Constraints</a></li>
                      <li><a href="/docs/rancher/v1.6/en/rancher-services/scheduler/#restrict-services-on-host">Scheduling only Specific Services on a Host</a></li>
                  </ul>
              </li>
              <li><a href="/docs/rancher/v1.6/en/rancher-services/audit-log/">Audit Logging</a></li>
              <li><a href="/docs/rancher/v1.6/en/rancher-services/service-accounts/">Service Accounts</a></li>
           </ul>
    </li>
    <li>
          <a href="#">Cattle<i class="pull-right fa fa-angle-down"></i></a>
          <ul>
                <li><a href="/docs/rancher/v1.6/en/cattle/stacks/">Stacks</a></li>
                <li><a href="/docs/rancher/v1.6/en/cattle/adding-services/">Services</a></li>
                <li><a href="/docs/rancher/v1.6/en/cattle/volumes/">Volumes</a></li>
                <li><a href="/docs/rancher/v1.6/en/cattle/adding-load-balancers/">Load Balancers</a></li>
                <li>
                    <a href="#">Load Balancer Options in the UI<i class="pull-right fa fa-angle-down"></i></a>
                    <ul>
                        <li><a href="/docs/rancher/v1.6/en/cattle/adding-load-balancers/#adding-a-load-balancer-in-the-ui">Adding Load Balancers</a></li>
                        <li><a href="/docs/rancher/v1.6/en/cattle/adding-load-balancers/#service-rule">Targeting Specific Services</a></li>
                        <li><a href="/docs/rancher/v1.6/en/cattle/adding-load-balancers/#selector-rule">Targeting Services based on Selectors</a></li>
                        <li><a href="/docs/rancher/v1.6/en/cattle/adding-load-balancers/#ssl-termination">SSL Termination</a></li>
                        <li><a href="/docs/rancher/v1.6/en/cattle/adding-load-balancers/#stickiness-policy-for-load-balancers">Stickiness Policy</a></li>
                        <li><a href="/docs/rancher/v1.6/en/cattle/adding-load-balancers/#custom-haproxy-configuration">Custom HAProxy Configuration</a></li>
                        <li><a href="/docs/rancher/v1.6/en/cattle/adding-load-balancers/#labelsscheduling-load-balancers">Labels and Scheduling</a></li>
                      </ul>
                </li>
                <li>
                    <a href="#">Load Balancer Options with CLI and Compose<i class="pull-right fa fa-angle-down"></i></a>
                    <ul>
                        <li><a href="/docs/rancher/v1.6/en/cattle/adding-load-balancers/#adding-a-load-balancer-with-rancher-compose">Adding Load Balancers</a></li>
                        <li><a href="/docs/rancher/v1.6/en/cattle/adding-load-balancers/#source-ports">Defining Source Ports</a></li>
                        <li><a href="/docs/rancher/v1.6/en/cattle/adding-load-balancers/#port-rules">Port Rules</a></li>
                        <li><a href="/docs/rancher/v1.6/en/cattle/adding-load-balancers/#certificates">Certificates</a></li>
                        <li><a href="/docs/rancher/v1.6/en/cattle/adding-load-balancers/#custom-configuration">Custom HAProxy Configuration</a></li>
                        <li><a href="/docs/rancher/v1.6/en/cattle/adding-load-balancers/#stickiness-policy">Stickiness Policy</a></li>
                        <li><a href="/docs/rancher/v1.6/en/cattle/adding-load-balancers/#load-balancer-example-l7">Example of L7 Load Balancer</a></li>
                        <li><a href="/docs/rancher/v1.6/en/cattle/adding-load-balancers/#internal-load-balancer-example">Example of Internal Load Balancer</a></li>
                        <li><a href="/docs/rancher/v1.6/en/cattle/adding-load-balancers/#ssl-termination-example">Example of SSL Termination with a Load Balancer</a></li>
                      </ul>
                </li>
                <li><a href="/docs/rancher/v1.6/en/cattle/adding-external-services/">External Services</a></li>
                <li><a href="/docs/rancher/v1.6/en/cattle/adding-service-alias/">Service Alias</a></li>
                <li><a href="/docs/rancher/v1.6/en/cattle/health-checks/">Health Checks</a></li>
                <li>
                    <a href="#">Scheduling Services<i class="pull-right fa fa-angle-down"></i></a>
                    <ul>
                        <li><a href="/docs/rancher/v1.6/en/cattle/scheduling/">Scheduling</a></li>
                        <li><a href="/docs/rancher/v1.6/en/cattle/scheduling/#scheduling-options-in-the-ui">Scheduling in the UI</a></li>
                        <li><a href="/docs/rancher/v1.6/en/cattle/scheduling/#adding-labels-in-rancher-compose">Scheduling in Rancher Compose</a></li>
                        <li><a href="/docs/rancher/v1.6/en/cattle/scheduling/#table-of-scheduling-labels">Table of Scheduling Labels</a></li>
                    </ul>
                </li>
                <li><a href="/docs/rancher/v1.6/en/cattle/upgrading/">Upgrading Services</a></li>
                <li><a href="/docs/rancher/v1.6/en/cattle/internal-dns-service/">Internal DNS Service in Cattle Environments</a></li>
                <li><a href="/docs/rancher/v1.6/en/cattle/external-dns-service/">External DNS Service</a></li>
                <li>
                    <a href="#">Rancher-Compose<i class="pull-right fa fa-angle-down"></i></a>
                    <ul>
                        <li><a href="/docs/rancher/v1.6/en/cattle/rancher-compose/">Rancher Compose</a></li>
                        <li><a href="/docs/rancher/v1.6/en/cattle/rancher-compose/commands/">Commands and Options</a></li>
                        <li><a href="/docs/rancher/v1.6/en/cattle/rancher-compose/environment-interpolation/">Environment Interpolation</a></li>
                        <li><a href="/docs/rancher/v1.6/en/cattle/rancher-compose/build/">Building with AWS S3</a></li>
                    </ul>
                </li>
                <li><a href="/docs/rancher/v1.6/en/cattle/secrets/">Secrets - Experimental</a></li>
                <li><a href="/docs/rancher/v1.6/en/cattle/webhook-service/">Webhooks</a></li>
                <li><a href="/docs/rancher/v1.6/en/cattle/labels/">Labels in Cattle</a></li>
          </ul>
    </li>
    <li>
          <a href="#">Kubernetes<i class="pull-right fa fa-angle-down"></i></a>
          <ul>
              <li><a href="/docs/rancher/v1.6/en/kubernetes/">Launching Kubernetes</a></li>
              <li><a href="/docs/rancher/v1.6/en/kubernetes/resiliency-planes/">Resiliency Planes</a></li>
              <li><a href="/docs/rancher/v1.6/en/kubernetes/providers/">Cloud Providers</a></li>
              <li><a href="/docs/rancher/v1.6/en/kubernetes/private-registry/">Private Registry</a></li>
              <li><a href="/docs/rancher/v1.6/en/kubernetes/rbac/">RBAC</a></li>
              <li><a href="/docs/rancher/v1.6/en/kubernetes/disaster-recovery/">Disaster Recovery</a></li>
              <li><a href="/docs/rancher/v1.6/en/kubernetes/backups/">Backups</a></li>
              <li><a href="/docs/rancher/v1.6/en/kubernetes/storage/">Persistent Storage</a></li>
              <li>
                  <a href="#">Add-ons Support<i class="pull-right fa fa-angle-down"></i></a>
                  <ul>
                      <li><a href="/docs/rancher/v1.6/en/kubernetes/addons/">Add-ons Support</a></li>
                      <li><a href="/docs/rancher/v1.6/en/kubernetes/addons/#helm">Helm</a></li>
                      <li><a href="/docs/rancher/v1.6/en/kubernetes/addons/#skydns">SkyDNS</a></li>
                  </ul>
              </li>
              <li>
                  <a href="#">Ingress Support and Options<i class="pull-right fa fa-angle-down"></i></a>
                  <ul>
                      <li><a href="/docs/rancher/v1.6/en/kubernetes/ingress/">Ingress Support</a></li>
                      <li><a href="/docs/rancher/v1.6/en/kubernetes/ingress/#host-based-routing">Host Based Routing</a></li>
                      <li><a href="/docs/rancher/v1.6/en/kubernetes/ingress/#path-based-routing">Path Based Routing</a></li>
                      <li><a href="/docs/rancher/v1.6/en/kubernetes/ingress/#scale-and-other-port">Multiple Load Balancers and Selecting Ports</a></li>
                      <li><a href="/docs/rancher/v1.6/en/kubernetes/ingress/#tls">Using TLS</a></li>
                      <li><a href="/docs/rancher/v1.6/en/kubernetes/ingress/#blocking-http">Blocking HTTP</a></li>
                      <li><a href="/docs/rancher/v1.6/en/kubernetes/ingress/#custom-haproxy">Custom HAProxy</a></li>
                      <li><a href="/docs/rancher/v1.6/en/kubernetes/ingress/#scheduled-globally">Scheduling on all Hosts</a></li>
                      <li><a href="/docs/rancher/v1.6/en/kubernetes/ingress/#host-scheduling">Scheduling on a specific Host</a></li>
                      <li><a href="/docs/rancher/v1.6/en/kubernetes/ingress/#only-local">Targeting Only Containers on the Same Host</a></li>
                      <li><a href="/docs/rancher/v1.6/en/kubernetes/ingress/#prefer-local">Prioritizing Containers on the Same Host</a></li>
                  </ul>
              </li>
              <li><a href="/docs/rancher/v1.6/en/kubernetes/upgrading/">Upgrading Kubernetes</a></li>
              <li><a href="/docs/rancher/v1.6/en/kubernetes/deleting/">Deleting Kubernetes</a></li>

          </ul>
    </li>
    <li><a href="/docs/rancher/v1.6/en/mesos/">Mesos</a></li>
    <li><a href="/docs/rancher/v1.6/en/swarm/">Swarm - Experimental </a></li>
    <li><a href="/docs/rancher/v1.6/en/windows/">Windows - Experimental</a></li>
    <li><a href="/docs/rancher/v1.6/en/native-docker/">Using Native Docker CLI</a></li>
    <li>
            <a href="#">Rancher Catalog<i class="pull-right fa fa-angle-down"></i></a>
            <ul>
                <li><a href="/docs/rancher/v1.6/en/catalog/">Catalog</a></li>
                <li><a href="/docs/rancher/v1.6/en/catalog/private-catalog/">Creating Private Catalogs</a></li>
            </ul>
        </li>
    <li><a href="#">Rancher CLI<i class="pull-right fa fa-angle-down"></i></a>
        <ul>
            <li><a href="/docs/rancher/v1.6/en/cli/">Rancher CLI</a></li>
            <li><a href="/docs/rancher/v1.6/en/cli/commands/">Commands and Options</a></li>
            <li><a href="/docs/rancher/v1.6/en/cli/variable-interpolation/">Variable Interpolation</a></li>
        </ul>
    </li>
    <li><a href="/docs/rancher/v1.6/en/api/v2-beta/">API Documentation</a></li>
    <li><a href="/docs/rancher/v1.6/en/contributing/">Contributing to Rancher</a></li>
    <li>
        <a href="#">FAQs<i class="pull-right fa fa-angle-down"></i></a>
        <ul>
            <li><a href="/docs/rancher/v1.6/en/faqs/server/">FAQs about Rancher Server</a></li>
            <li><a href="/docs/rancher/v1.6/en/faqs/agents/">FAQs about Rancher Agents/Hosts</a></li>
            <li><a href="/docs/rancher/v1.6/en/faqs/troubleshooting/">Troubleshooting FAQS</a></li>
        </ul>
    </li>
    <li>
        <a href="#">Docs Archive<i class="pull-right fa fa-angle-down"></i></a>
        <ul>
            <li><a href="/docs/rancher/v1.5/en/">Rancher v1.5</a></li>
            <li><a href="/docs/rancher/v1.4/en/">Rancher v1.4</a></li>
            <li><a href="/docs/rancher/v1.3/en/">Rancher v1.3</a></li>
            <li><a href="/docs/rancher/v1.2/en/">Rancher v1.2</a></li>
            <li><a href="/docs/rancher/v1.1/en/">Rancher v1.1</a></li>
            <li><a href="/docs/rancher/v1.0/en/">Rancher v1.0</a></li>
        </ul>
    </li>
</ul>

      </div>

      <div class="col span-8">
        <div class="content-container">
          <h2 id="troubleshooting-faqs">Troubleshooting FAQs</h2>
<hr />

<p>Please read more detailed FAQs about <a href="/docs/rancher/v1.6/en/faqs/server">Rancher Server</a> and <a href="/docs/rancher/v1.6/en/faqs/agents/">Rancher Agent/Hosts</a>.</p>

<p>This section assumes you were able to successfully start Rancher server and add hosts.</p>

<h3 id="servicescontainers">Services/Containers</h3>

<h4 id="why-can-i-only-edit-the-name-of-a-container">Why can I only edit the name of a container?</h4>

<p>Docker containers are immutable (not changeable) after creation. The only things you can edit are things that we store that aren’t really part of the Docker container. This includes restarting, it’s still the same container if you stop and start it. You will need to remove and recreate a container to change anything else.</p>

<p>You can <strong>Clone</strong>, which will pre-fill the <strong>Add Container</strong> screen with all the settings from an existing container. If you forget one thing, you can clone the container, change it, and then delete the old container.</p>

<h4 id="how-do-linked-containersservices-work-in-rancher">How do linked containers/services work in Rancher?</h4>

<p>In Docker, linked containers (using <code class="highlighter-rouge">--link</code> in <code class="highlighter-rouge">docker run</code>) shows up in the <code class="highlighter-rouge">/etc/hosts</code> of the container it’s linked to. In Rancher, we don’t edit the <code class="highlighter-rouge">/etc/hosts</code>. Instead we run an <a href="/docs/rancher/v1.6/en/cattle/internal-dns-service/">internal DNS server</a> that makes links work across hosts. The DNS server would respond with the correct IP.</p>

<p><a id="container-access"></a></p>

<h4 id="help-i-cannot-execute-the-shell-or-view-logs-of-the-container-from-the-ui-how-does-rancher-access-the-shelllogs-of-a-container">Help! I cannot execute the shell or view logs of the container from the UI. How does Rancher access the shell/logs of a container?</h4>

<p>Since the agent is potentially open to the public internet, requests to the agent for a shell (or logs, etc) of a container aren’t automatically trusted. The request from Rancher Server includes a JWT (JSON Web Token) and that JWT is signed by the server and can be verified by the agent to have actually come from the server. Part of that includes an expiration time, which is 5 minutes from when it is issued. This prevents a token from being used for long periods of time if it were to be intercepted, which is particularly important if not using SSL.</p>

<p>If you run docker logs -f rancher-agent and the logs show messages about an expired token, then please check that the date/time of the Rancher Server host and Rancher Agent host are in sync.</p>

<h4 id="where-can-i-see-logs-of-my-service">Where can I see logs of my service?</h4>

<p>In the service details, we provide service logs in a tab called <strong>Log</strong>. In the <strong>Log</strong> tab, it lists out all events related to the service including a timestamp and description of the event that occurs in the API. These logs are kept for 24 hours before being deleted.</p>

<h3 id="cross-host-communication">Cross Host Communication</h3>

<p>If containers on different hosts cannot ping each other, there are some common scenarios that could be the issue.</p>

<h4 id="how-to-check-if-cross-host-communication-is-working">How to check if cross host communication is working?</h4>

<p>In the <strong>Stacks</strong> -&gt; <strong>Infrastructure Stacks</strong>, check the status of the <code class="highlighter-rouge">healthcheck</code> stack. If the stack is active, then cross host communication is working.</p>

<p>To manually test, you can exec into any container and ping the internal IP (i.e. 10.42.x.x) of another container. The containers from infrastructure stacks may be hidden on the hosts page. To view them, select the “Show System” checkbox in the upper right corner.</p>

<h4 id="are-the-ips-of-the-hosts-correct-in-the-ui">Are the IPs of the hosts correct in the UI?</h4>

<p>Every so often, the IP of the host will accidentally pick up the docker bridge IP instead of the actual IP. These are typically <code class="highlighter-rouge">172.17.42.1</code> or starting with <code class="highlighter-rouge">172.17.x.x</code>. If this is the case, you need to re-register your host with the correct IP by explicitly setting the <code class="highlighter-rouge">CATTLE_AGENT_IP</code> environment variable in the <code class="highlighter-rouge">docker run</code> command.</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>sudo docker run -d -e <span class="nv">CATTLE_AGENT_IP</span><span class="o">=</span>&lt;HOST_IP&gt; --privileged <span class="se">\</span>
    -v /var/run/docker.sock:/var/run/docker.sock <span class="se">\</span>
    rancher/agent:v0.8.2 http://SERVER_IP:8080/v1/scripts/xxxx
</code></pre>
</div>

<h4 id="running-ubuntu-and-containers-are-unable-to-communicate-with-each-other">Running Ubuntu, and containers are unable to communicate with each other.</h4>

<p>If you have <code class="highlighter-rouge">UFW</code> enabled, you can either disable <code class="highlighter-rouge">UFW</code> OR change <code class="highlighter-rouge">/etc/default/ufw</code> to:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>DEFAULT_FORWARD_POLICY="ACCEPT"
</code></pre>
</div>

<p><a id="subnet"></a></p>

<h4 id="the-default-subnet-10420016-used-by-rancher-is-already-used-in-my-network-and-prohibiting-the-managed-network-how-do-i-change-the-subnet">The default subnet (<code class="highlighter-rouge">10.42.0.0/16</code>) used by Rancher is already used in my network and prohibiting the managed network. How do I change the subnet?</h4>

<p>The default subnet used for Rancher’s overlay networking is <code class="highlighter-rouge">10.42.0.0/16</code>. If your network is already using this subnet, you will need to change the default subnet used in Rancher’s networking. You will need to ensure the networking infrastructure service that you want to use has the correct <a href="/docs/rancher/v1.6/en/rancher-services/networking/#subnets">subnet</a> in the <code class="highlighter-rouge">default_network</code> in the <code class="highlighter-rouge">rancher-compose.yml</code> file.</p>

<p>To change Rancher’s IPsec or VXLAN network driver, you will need to have an <a href="/docs/rancher/v1.6/en/environments/#what-is-an-environment-template">environment template</a> with an updated infrastructure service. When creating a new environment template or editing an existing one, you edit the configuration of the networking infrastructure service by clicking on <strong>Edit Config</strong>. In the edit screen, you can enter a different subnet in the <strong>Configuration Options</strong> -&gt; <strong>Subnet</strong> and click <strong>Configure</strong>. Any <strong>new</strong> environment using the updated environment template would be using the new subnet. Editing an existing environment template will not update the infrastructure services in existing environments.</p>

<p>Here’s an example of the updated network driver’s <code class="highlighter-rouge">rancher-compose.yml</code> to change the subnet to <code class="highlighter-rouge">10.32.0.0/16</code>.</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="s">ipsec</span><span class="pi">:</span>
  <span class="s">network_driver</span><span class="pi">:</span>
    <span class="s">name</span><span class="pi">:</span> <span class="s">Rancher IPsec</span>
    <span class="s">default_network</span><span class="pi">:</span>
      <span class="s">name</span><span class="pi">:</span> <span class="s">ipsec</span>
      <span class="s">host_ports</span><span class="pi">:</span> <span class="s">true</span>
      <span class="s">subnets</span><span class="pi">:</span>
      <span class="c1"># After the configuration option is updated, the default subnet address is updated</span>
      <span class="pi">-</span> <span class="s">network_address</span><span class="pi">:</span> <span class="s">10.32.0.0/16</span>
      <span class="s">dns</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">169.254.169.250</span>
      <span class="s">dns_search</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">rancher.internal</span>
    <span class="s">cni_config</span><span class="pi">:</span>
      <span class="s1">'</span><span class="s">10-rancher.conf'</span><span class="pi">:</span>
        <span class="s">name</span><span class="pi">:</span> <span class="s">rancher-cni-network</span>
        <span class="s">type</span><span class="pi">:</span> <span class="s">rancher-bridge</span>
        <span class="s">bridge</span><span class="pi">:</span> <span class="s">docker0</span>
        <span class="c1"># After the configuration option is updated, the default subnet address is updated</span>
        <span class="s">bridgeSubnet</span><span class="pi">:</span> <span class="s">10.32.0.0/16</span>
        <span class="s">logToFile</span><span class="pi">:</span> <span class="s">/var/log/rancher-cni.log</span>
        <span class="s">isDebugLevel</span><span class="pi">:</span> <span class="s">false</span>
        <span class="s">isDefaultGateway</span><span class="pi">:</span> <span class="s">true</span>
        <span class="s">hostNat</span><span class="pi">:</span> <span class="s">true</span>
        <span class="s">hairpinMode</span><span class="pi">:</span> <span class="s">true</span>
        <span class="s">mtu</span><span class="pi">:</span> <span class="s">1500</span>
        <span class="s">linkMTUOverhead</span><span class="pi">:</span> <span class="s">98</span>
        <span class="s">ipam</span><span class="pi">:</span>
          <span class="s">type</span><span class="pi">:</span> <span class="s">rancher-cni-ipam</span>
          <span class="s">logToFile</span><span class="pi">:</span> <span class="s">/var/log/rancher-cni.log</span>
          <span class="s">isDebugLevel</span><span class="pi">:</span> <span class="s">false</span>
          <span class="s">routes</span><span class="pi">:</span>
          <span class="pi">-</span> <span class="s">dst</span><span class="pi">:</span> <span class="s">169.254.169.250/32</span>
</code></pre>
</div>

<blockquote>
  <p><strong>Note:</strong> The previous method of updating the subnet through the API will no longer be applicable as Rancher has moved to infrastructure services.</p>
</blockquote>

<h3 id="dns">DNS</h3>

<p><a id="dns-config"></a></p>

<h3 id="how-can-i-see-if-my-dns-is-set-up-correctly">How can I see if my DNS is set up correctly?</h3>

<p>If you want to see the configuration of the Rancher DNS setup, go to the <strong>Stacks</strong> -&gt; <strong>Infrastructure</strong>. Find the <code class="highlighter-rouge">network-services</code> stack and select the <code class="highlighter-rouge">metadata</code> service. In the <code class="highlighter-rouge">metadata</code> service, exec into any of the containers named <code class="highlighter-rouge">network-services-metadata-dns-X</code>. You can use the UI and select <strong>Execute Shell</strong> on the container.</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>cat /etc/rancher-dns/answers.json
</code></pre>
</div>

<h4 id="centos">CentOS</h4>

<h5 id="why-are-my-containers-unable-to-connect-to-network">Why are my containers unable to connect to network?</h5>

<p>If you run a container on the host (i.e. <code class="highlighter-rouge">docker run -it ubuntu</code>) and the container cannot talk to the internet or anything outside the host, then you might have hit a networking issue.</p>

<p>CentOS will by default set <code class="highlighter-rouge">/proc/sys/net/ipv4/ip_forward</code> to <code class="highlighter-rouge">0</code>, which will essentially bork all networking for Docker.  Docker sets this value to <code class="highlighter-rouge">1</code> but if you run <code class="highlighter-rouge">service restart networking</code> on CentOS it sets it back to <code class="highlighter-rouge">0</code>.</p>

<p><a id="lb-config"></a></p>

<h3 id="load-balancer">Load Balancer</h3>

<h4 id="why-is-my-load-balancer-stuck-in-initializing">Why is my load balancer stuck in <code class="highlighter-rouge">Initializing</code>&gt;?</h4>

<p>Load balancers automatically have <a href="/docs/rancher/v1.6/en/cattle/health-checks/">health checks</a> enabled on them. If the load balancer is stuck in <code class="highlighter-rouge">initializing</code> state, then most likely the <a href="#cross-host-communication">cross host communication</a> between the hosts is not working.</p>

<h4 id="how-can-i-see-the-configuration-of-my-load-balancer">How can I see the configuration of my Load Balancer?</h4>

<p>If you want to see the configuration of the load balancer, you will need to exec into the specific load balancer container and look for the configuration file. You can use the UI and select <strong>Execute Shell</strong> on the container.</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>cat /etc/haproxy/haproxy.cfg
</code></pre>
</div>

<p>This file will provide all the configuration details of the load balancer.</p>

<h4 id="where-can-i-find-the-logs-of-haproxy">Where can I find the logs of HAProxy?</h4>

<p>The logs of HAProxy can be found inside the load balancer container. <code class="highlighter-rouge">docker logs</code> of the load balancer container will only provide details of the service related to load balancer, but not the actual HAProxy logging.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$ cat /var/log/haproxy
</code></pre>
</div>

<h3 id="ha">HA</h3>

<h4 id="rancher-compose-executor-and-go-machine-service-are-continuously-restarting">Rancher Compose Executor and Go-Machine-Service are continuously restarting.</h4>

<p>In an HA set, if rancher-compose-executor and go-machine-service are continuously restarting, if you are behind a proxy, please ensure that proxy protocol is being used.</p>

<h3 id="authentication">Authentication</h3>

<p><a id="manually-turn-off-github"></a></p>

<h4 id="help-i-turned-on-access-controldocsrancherv16enconfigurationaccess-control-and-can-no-longer-access-rancher-how-do-i-reset-rancher-to-disable-access-control">Help! I turned on <a href="/docs/rancher/v1.6/en/configuration/access-control/">Access Control</a> and can no longer access Rancher. How do I reset Rancher to disable Access Control?</h4>

<p>If something goes wrong with your authentication (like your GitHub authentication getting corrupted), then you may be locked out of Rancher. To re-gain access to Rancher, you’ll need to turn off Access Control in the database. In order to do so, you’ll need access to the machine that is running Rancher Server.</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>docker <span class="nb">exec</span> -it &lt;rancher_server_container_ID&gt; mysql
</code></pre>
</div>

<blockquote>
  <p><strong>Note:</strong> The <code class="highlighter-rouge">&lt;rancher_server_container_ID&gt;</code> will be the container that has the Rancher database. If you <a href="/docs/rancher/v1.6/en/upgrading/">upgraded</a> and created a Rancher data container, you’ll need to use the ID of the Rancher data container instead of the Rancher server container.</p>
</blockquote>

<p>Access the cattle database.</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="gp">mysql&gt; </span>use cattle;
</code></pre>
</div>

<p>Review the <code class="highlighter-rouge">setting</code> table.</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="gp">mysql&gt; </span><span class="k">select</span> <span class="k">*</span> from setting;  
</code></pre>
</div>

<p>Update the <code class="highlighter-rouge">api.security.enabled</code> to <code class="highlighter-rouge">false</code> and clear the <code class="highlighter-rouge">api.auth.provider.configured</code> value . This change will turn off access control and anyone can access Rancher server with the UI/API.</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="gp">mysql&gt; </span>update setting <span class="nb">set </span><span class="nv">value</span><span class="o">=</span><span class="s2">"false"</span> where <span class="nv">name</span><span class="o">=</span><span class="s2">"api.security.enabled"</span>;
<span class="gp">mysql&gt; </span>update setting <span class="nb">set </span><span class="nv">value</span><span class="o">=</span><span class="s2">""</span> where <span class="nv">name</span><span class="o">=</span><span class="s2">"api.auth.provider.configured"</span>;
</code></pre>
</div>

<p>Confirm the changes have been made in the <code class="highlighter-rouge">setting</code> table.</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="gp">mysql&gt; </span><span class="k">select</span> <span class="k">*</span> from setting;  
</code></pre>
</div>

<p>It may take ~1 minute before the authentication will be turned off in the UI, but you will be able to refresh the webpage and access Rancher with access control turned off.</p>


          <footer class="clearfix">
            <div class="copyright pull-left">Copyright &copy; 2014-2017 <a href="http://rancher.com">Rancher Labs</a>.  All Rights Reserved.</div>
            <a class="btn btn-primary pull-right" href="https://github.com/rancher/rancher.github.io/tree/master/rancher/v1.6/en/faqs/troubleshooting/index.md">Edit this page <i class="fa fa-pencil"></i></a>
          </footer>
        </div>
      </div>
    </div>

    <script src="/docs/vendor/jquery.js?t=2017-09-13 18:12:52 -0700"></script>
    <script src="/docs/js/jquery.slicknav.min.js?t=2017-09-13 18:12:52 -0700"></script>
    <script src="/docs/js/rancher-docs.js?t=2017-09-13 18:12:52 -0700"></script>

    <!-- Start of Google Analytics -->
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-56382716-3', 'auto');
        ga('send', 'pageview');
    </script>
    <!-- End of Google Analytics -->

    <!-- Start of Async HubSpot Analytics Code -->
    <script type="text/javascript">
    (function(d,s,i,r) {
    if (d.getElementById(i)){return;}
    var n=d.createElement(s),e=d.getElementsByTagName(s)[0];
    n.id=i;n.src='//js.hs-analytics.net/analytics/'+(Math.ceil(new Date()/r)*r)+'/468859.js';
    e.parentNode.insertBefore(n, e);
    })(document,"script","hs-analytics",300000);
    </script>
    <!-- End of Async HubSpot Analytics Code -->
  </body>
</html>

